# üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –¥–∏—Å–ø–ª–µ–µ–º ST7735

## üö® –ü—Ä–æ–±–ª–µ–º–∞: –î–∏—Å–ø–ª–µ–π –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ

### –°–∏–º–ø—Ç–æ–º—ã
- ‚úÖ –ü—Ä–æ—à–∏–≤–∫–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω–æ
- ‚úÖ Serial Monitor –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã–≤–æ–¥ `Dice 1: X  Dice 2: Y`
- ‚ùå –î–∏—Å–ø–ª–µ–π —á–µ—Ä–Ω—ã–π –∏–ª–∏ –ø—É—Å—Ç–æ–π
- ‚ùå –ù–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è "Display initialized successfully!"

### –ü—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è

## 1Ô∏è‚É£ –¢–µ—Å—Ç —Ä–µ–∂–∏–º–æ–≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

ST7735 –∏–º–µ–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞. –ö–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è **INITR_BLACKTAB** (–Ω–∞–∏–±–æ–ª–µ–µ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π).

### –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ —Ä–µ–∂–∏–º—ã –≤ [`src/main.cpp`](../src/main.cpp:99):

```cpp
// –¢–ï–ö–£–©–ò–ô (–ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–≤—ã–º):
tft.initR(INITR_BLACKTAB);

// –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞:
tft.initR(INITR_REDTAB);

// –ò–ª–∏:
tft.initR(INITR_GREENTAB);

// –î–ª—è 1.44" –¥–∏—Å–ø–ª–µ–µ–≤ (–≤–∞—à —Å–ª—É—á–∞–π):
tft.initR(INITR_144GREENTAB);
```

### –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

1. –ò–∑–º–µ–Ω–∏—Ç–µ —Ä–µ–∂–∏–º –≤ –∫–æ–¥–µ
2. –°–∫–æ–º–ø–∏–ª–∏—Ä—É–π—Ç–µ: `pio run`
3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ: `pio run --target upload`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Serial Monitor: `pio device monitor --baud 115200`

**–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥ –ø—Ä–∏ —É—Å–ø–µ—Ö–µ:**
```
ESP32 Dice Simulator Starting...
Initializing display...
Display init command sent
Clearing screen...
Display initialized successfully!
Starting dice rolling...
Dice 1: 3  Dice 2: 5
```

## 2Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

### –¢–∞–±–ª–∏—Ü–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

| ST7735 Pin | ESP32 GPIO | –ü—Ä–æ–≤–µ—Ä–∫–∞ |
|------------|------------|----------|
| VCC        | 3.3V       | ‚¨ú –ü–æ–¥–∫–ª—é—á–µ–Ω |
| GND        | GND        | ‚¨ú –ü–æ–¥–∫–ª—é—á–µ–Ω |
| **CS**     | **GPIO 5** | ‚¨ú –ü–æ–¥–∫–ª—é—á–µ–Ω |
| **RESET**  | **GPIO 4** | ‚¨ú –ü–æ–¥–∫–ª—é—á–µ–Ω |
| **DC (A0)**| **GPIO 2** | ‚¨ú –ü–æ–¥–∫–ª—é—á–µ–Ω |
| **MOSI**   | **GPIO 23**| ‚¨ú –ü–æ–¥–∫–ª—é—á–µ–Ω |
| **SCLK**   | **GPIO 18**| ‚¨ú –ü–æ–¥–∫–ª—é—á–µ–Ω |
| LED        | 3.3V + 220Œ©| ‚¨ú –ü–æ–¥–∫–ª—é—á–µ–Ω |

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:

- [ ] **–ü–∏—Ç–∞–Ω–∏–µ 3.3V** (–ù–ï 5V! –ú–æ–∂–Ω–æ –ø–æ–≤—Ä–µ–¥–∏—Ç—å –¥–∏—Å–ø–ª–µ–π)
- [ ] **–û–±—â–∞—è –∑–µ–º–ª—è** (GND ESP32 –∏ GND –¥–∏—Å–ø–ª–µ—è —Å–æ–µ–¥–∏–Ω–µ–Ω—ã)
- [ ] **–ö–æ—Ä–æ—Ç–∫–∏–µ –ø—Ä–æ–≤–æ–¥–∞** (< 20—Å–º –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã SPI)
- [ ] **–ù–∞–¥–µ–∂–Ω—ã–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã** (–Ω–µ –±–æ–ª—Ç–∞—é—Ç—Å—è)

## 3Ô∏è‚É£ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–∏–Ω–æ–≤

–ï—Å–ª–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ SPI –ø–∏–Ω—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ.

### –ò–∑–º–µ–Ω–∏—Ç–µ –≤ [`src/main.cpp`](../src/main.cpp:7):

```cpp
// –¢–ï–ö–£–©–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø (–∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–π SPI):
#define TFT_CS   5
#define TFT_RST  4
#define TFT_DC   2
#define TFT_SCLK 18
#define TFT_MOSI 23

// –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ê 1 (–ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π SPI, –º–µ–¥–ª–µ–Ω–Ω–µ–µ –Ω–æ –Ω–∞–¥–µ–∂–Ω–µ–µ):
#define TFT_CS   15
#define TFT_RST  4
#define TFT_DC   2
#define TFT_SCLK 14
#define TFT_MOSI 13

// –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ê 2:
#define TFT_CS   5
#define TFT_RST  16
#define TFT_DC   17
#define TFT_SCLK 18
#define TFT_MOSI 23
```

## 4Ô∏è‚É£ –¢–µ—Å—Ç —Å –ø—Ä–æ—Å—Ç—ã–º –∫–æ–¥–æ–º

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `test_display.cpp` –¥–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞:

```cpp
#include <Arduino.h>
#include <Adafruit_GFX.h>
#include <Adafruit_ST7735.h>
#include <SPI.h>

#define TFT_CS   5
#define TFT_RST  4
#define TFT_DC   2
#define TFT_SCLK 18
#define TFT_MOSI 23

Adafruit_ST7735 tft = Adafruit_ST7735(TFT_CS, TFT_DC, TFT_MOSI, TFT_SCLK, TFT_RST);

void setup() {
  Serial.begin(115200);
  delay(1000);
  Serial.println("Testing display...");
  
  // –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∫–∞–∂–¥—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –ø–æ –æ—á–µ—Ä–µ–¥–∏:
  tft.initR(INITR_BLACKTAB);
  delay(100);
  
  // –ö—Ä–∞—Å–Ω—ã–π —ç–∫—Ä–∞–Ω
  tft.fillScreen(ST7735_RED);
  Serial.println("RED screen");
  delay(2000);
  
  // –ó–µ–ª–µ–Ω—ã–π —ç–∫—Ä–∞–Ω
  tft.fillScreen(ST7735_GREEN);
  Serial.println("GREEN screen");
  delay(2000);
  
  // –°–∏–Ω–∏–π —ç–∫—Ä–∞–Ω
  tft.fillScreen(ST7735_BLUE);
  Serial.println("BLUE screen");
  delay(2000);
  
  // –ë–µ–ª—ã–π —ç–∫—Ä–∞–Ω
  tft.fillScreen(ST7735_WHITE);
  Serial.println("WHITE screen");
  delay(2000);
  
  Serial.println("Test complete!");
}

void loop() {
  // –ú–∏–≥–∞–Ω–∏–µ –±–µ–ª—ã–º/—á–µ—Ä–Ω—ã–º
  tft.fillScreen(ST7735_WHITE);
  delay(500);
  tft.fillScreen(ST7735_BLACK);
  delay(500);
}
```

### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
1. –í—Ä–µ–º–µ–Ω–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ `src/main.cpp` –≤ `src/main.cpp.backup`
2. –°–æ–∑–¥–∞–π—Ç–µ `src/test_display.cpp` —Å –∫–æ–¥–æ–º –≤—ã—à–µ
3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏ –Ω–∞–±–ª—é–¥–∞–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤

**–ï—Å–ª–∏ —Ç–µ—Å—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç** ‚Üí –ø—Ä–æ–±–ª–µ–º–∞ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∫–æ–¥–µ
**–ï—Å–ª–∏ —Ç–µ—Å—Ç –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç** ‚Üí –ø—Ä–æ–±–ª–µ–º–∞ –≤ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∏–ª–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

## 5Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

–í [`platformio.ini`](../platformio.ini) –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏–∏:

```ini
lib_deps = 
    adafruit/Adafruit GFX Library@^1.11.9
    adafruit/Adafruit ST7735 and ST7789 Library@^1.10.3
```

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–∏–µ –≤–µ—Ä—Å–∏–∏:
```ini
lib_deps = 
    adafruit/Adafruit GFX Library@^1.11.3
    adafruit/Adafruit ST7735 and ST7789 Library@^1.9.3
```

–ó–∞—Ç–µ–º –æ—á–∏—Å—Ç–∏—Ç–µ –∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ:
```bash
pio run --target clean
pio lib install
pio run
```

## 6Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∏—Å–ø–ª–µ—è

### –í–∏–∑—É–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:
- [ ] –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –≥–æ—Ä–∏—Ç (–±–µ–ª—ã–π —Å–≤–µ—Ç —Å–∑–∞–¥–∏ —ç–∫—Ä–∞–Ω–∞)
- [ ] –ù–µ—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π
- [ ] –ó–∞—â–∏—Ç–Ω–∞—è –ø–ª–µ–Ω–∫–∞ —Å–Ω—è—Ç–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∏—Ç–∞–Ω–∏—è:
```bash
# –ò–∑–º–µ—Ä—å—Ç–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –Ω–∞ VCC –ø–∏–Ω–µ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å 3.3V)
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è (5-60 –º–ê)
```

## 7Ô∏è‚É£ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

1. **–ó–∞–≥—Ä—É–∑–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥** —Å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–æ–π
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Serial Monitor** - –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
3. **–ï—Å–ª–∏ –Ω–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ—Å–ª–µ "Initializing display..."**:
   - –ü—Ä–æ–±–ª–µ–º–∞ —Å SPI –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–µ–π
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ–≤–æ–¥–∞ SCLK, MOSI
4. **–ï—Å–ª–∏ –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –µ—Å—Ç—å, –Ω–æ —ç–∫—Ä–∞–Ω —á–µ—Ä–Ω—ã–π**:
   - –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π INITR —Ä–µ–∂–∏–º
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∏–Ω DC (Data/Command)
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∏–Ω RESET
5. **–ï—Å–ª–∏ —ç–∫—Ä–∞–Ω —Ä–∞–±–æ—Ç–∞–ª —Ä–∞–Ω—å—à–µ**:
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∏—Ç–∞–Ω–∏–µ 3.3V (–Ω–µ –±–æ–ª—å—à–µ!)
   - –í–æ–∑–º–æ–∂–Ω–æ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω –¥–∏—Å–ø–ª–µ–π

## üìã –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫

- [ ] Serial Monitor –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- [ ] –ü–æ–ø—Ä–æ–±–æ–≤–∞–ª –≤—Å–µ 4 —Ä–µ–∂–∏–º–∞ INITR (BLACKTAB, REDTAB, GREENTAB, 144GREENTAB)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª –≤—Å–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- [ ] –ü–∏—Ç–∞–Ω–∏–µ —Å—Ç—Ä–æ–≥–æ 3.3V
- [ ] –ü—Ä–æ–≤–æ–¥–∞ –∫–æ—Ä–æ—Ç–∫–∏–µ –∏ –Ω–∞–¥–µ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã
- [ ] –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –¥–∏—Å–ø–ª–µ—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü–æ–ø—Ä–æ–±–æ–≤–∞–ª —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–¥ —Å —Ü–≤–µ—Ç–∞–º–∏
- [ ] –ü–æ–ø—Ä–æ–±–æ–≤–∞–ª –¥—Ä—É–≥–∏–µ –ø–∏–Ω—ã SPI
- [ ] –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏–ª –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

## üÜò –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–ª–æ

### –í–∞—Ä–∏–∞–Ω—Ç A: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–π HSPI

```cpp
// –í –Ω–∞—á–∞–ª–µ main.cpp –¥–æ–±–∞–≤—å—Ç–µ:
SPIClass hspi(HSPI);

// –í setup() –ø–µ—Ä–µ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π –¥–∏—Å–ø–ª–µ—è:
hspi.begin(TFT_SCLK, -1, TFT_MOSI, TFT_CS);
```

### –í–∞—Ä–∏–∞–Ω—Ç B: –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É

–ó–∞–º–µ–Ω–∏—Ç–µ –≤ `platformio.ini`:
```ini
lib_deps = 
    bodmer/TFT_eSPI@^2.5.0
```

### –í–∞—Ä–∏–∞–Ω—Ç C: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∏—Å–ø–ª–µ–π —Å Arduino IDE

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã Adafruit –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –¥–∏—Å–ø–ª–µ—è.

## üìû –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã:
1. –ó–∞–ø–∏—à–∏—Ç–µ —Ä–∞–±–æ—á—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥ —Å–∏–º—É–ª—è—Ç–æ—Ä–∞ –∫–æ—Å—Ç–µ–π
3. –ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å! üé≤

---

**–û–±–Ω–æ–≤–ª–µ–Ω–æ**: 2025-12-31